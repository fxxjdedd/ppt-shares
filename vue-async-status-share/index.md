---
title: Vue技术分享
subtitle: 复杂Vue组件的异步流程分析
author: 傅腾达
---
## 异步状态
如果一个组件的状态，依赖于异步任务的执行，那么这个状态就是异步的。异步状态会引入不确定性，换句话说就是，代码执行结果的正确与否完全靠运气或者靠网速。

## 一个熟悉的问题
关于setTimeout的面试题，只要了解下js的事件循环机制，就很容易回答出来了。但是一旦跟Vue结合起来，事情就会麻烦很多。

[点击查看一个刻意复杂化的例子以模拟真实项目中的复杂逻辑](http://jsrun.net/jgXKp/edit)，预测一下运行顺序是怎样的？

## 追根溯源，Vue项目的复杂性来源于什么

- 异步状态
  - 基于ajax的异步请求，带来大量的不确定状态
- 事件循环
  - 基于nextTick机制的双向绑定，带来大量“隐蔽”的异步操作
- 组件通信
  - 组件带来了便利，也带来了障碍

## 如何减少Vue项目的复杂性
- 异步状态
  - 减少异步状态，将异步状态“转化为”同步状态
- 事件循环
  - 写可以预测的代码
- 组件通信
  - 减少组件通信
  - 规范组件通信流程

<style type="text/css">
@import "../align.css";
</style>